# Upload + AI-organized Sidebar (Quick Start)

## 1) Add files
Unzip this pack to your repo root (same level as package.json).

Included:
- `src/pages/upload.jsx` — public upload page at /upload
- `api/upload.js` — Vercel serverless function to open PRs
- `scripts/generateSidebar.mjs` — groups docs by tags → `sidebars.generated.js`
- `sidebars.js` — prefers generated sidebar, falls back to autogenerated
- `.env.example` — env vars for the API
- `package.json` — includes needed deps and `prebuild`

## 2) Install deps
```bash
npm install
```

## 3) Local test
```bash
npm run start
# open http://localhost:3000/upload
```
(Upload will 400 locally unless you set env vars and proxy /api; deploy to Vercel to test end-to-end.)

## 4) Deploy backend (Vercel)
- Create a new Vercel project from this repo
- Add Environment Variables:
  - `GITHUB_TOKEN` — fine-grained token: contents:write, pull_requests:write
  - `OWNER` — e.g. MiaoMiltonMiao
  - `REPO` — e.g. openmark
- Deploy. The Upload page will call `/api/upload` on your Vercel domain.

## 5) Sidebar organization
- Add tags in each doc’s frontmatter: `tags: ["crypto", "chess"]`
- On `npm run build` (local/CI), `scripts/generateSidebar.mjs` outputs `sidebars.generated.js`
- Docusaurus uses that file for a grouped sidebar

## Notes
- GitHub Pages alone cannot run `/api/upload` (needs a backend). Use Vercel/Netlify/Fly/etc.
- Security: Consider adding captcha or GitHub OAuth before opening to public.
